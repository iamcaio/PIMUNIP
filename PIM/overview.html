<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Systemize | Gestão agropecuária  </title>

    <!--biblioteca de gráfico JS-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <link rel="stylesheet" href="assets/dashs.css">
    <link rel="stylesheet" href="assets/navbar.css">

    <link rel="shortcut icon" type="imagex/png" href="images/logo-ico.ico">
</head>
<body>


    <div>

        <!--HEADER PARA NAVEGAÇÃO P/ TELA OVERVIEW-->
        <header class="header-systemize">
            <a href="overview.html">
                <img src="images/logo-site.png" alt="">
            </a>
            <!--NAVBAR GLOBAL DO SITE (TEM QUE SER APLICADO EM TODAS AS TELAS)-->
            <nav class="navbar">

                <h5 class="li-bar"><a href="overview.html">Overview</a></h5>
                <h5 class="li-bar"><a href="dashs.html">Dashboards</a></h5>
                <h5 class="li-bar"><a href="#contato">Contato</a></h5>
                <h5 class="li-bar"><a href="#sobre">Sobre</a></h5>
                
            </nav>
        </header>

        <div class="container">
            
            <article>
                <header>
                    <h2>Produção matéria prima</h2>
                </header>
                <section>
                    <h3 class="h3-secoes">Produção por mês</h3>
                    <i><h6 style="padding-left: 40px;">(Em toneladas)</h6></i>
                    <div class="bar-chart" id="bar-chart"></div>
                </section>
                <section>
                    <h3 class="h3-secoes">Quantidade produzida (Ano)</h3>
                    <i><h6 style="padding-left: 40px;">(Em toneladas)</h6></i>
                </section>
                <footer>
                    <p style="text-align: center;">Esse foi o total <b>produzido</b> da sua fazenda de acordo com o tempo</p>
                </footer>
            </article>

            <article>
                <header>
                    <h2>Perdas</h2>
                </header>
                <section>
                    <h3 class="h3-secoes">Perda de materia prima</h3>
                    <i><h6 style="padding-left: 40px;">(Em toneladas)</h6></i>
                    <div class="chart-container">
                        <canvas id="myPieChart"></canvas>
                    </div>
                </section>
                <section>
                    <h3 class="h3-secoes">Médias gerais</h3>
                    <div class="text-container">

                        <div class="menu">
                            <div class="menu-item"><span class="icon fas fa-check"></span> dado de ganhos</div>
                            <div class="menu-item"><span class="icon fas fa-xmark"></span> dado de perdas</div>
                            <div class="menu-item"><span class="icon fas fa-dollar-sign"></span> dado de lucro</div>
                            <div class="menu-item"><span class="icon fas fa-chart-bar"></span> dado de produzido mês</div>
                        </div>

                    </div>
                </section>
                <footer>
                    <p style="text-align: center;">Essas são as <b>médias</b> da sua fazenda de acordo com o tempo</p>
                </footer>
            </article>
        </div>
    </div>

        <footer style="display: flex; justify-content: flex-start;">
            <p>Sua fazenda está</p>
            <p><b>&nbsp;boa&nbsp;</b></p>
            <p>de acordo com os dados adquiridos</p>
        </footer>

    </div>

    <!--SCRIPT PARA BUSCAR ICONES (BIBLIOTECA DE ICONES **Font Awesome**)-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>    

    <!--GERAÇÃO DE DADOS ALEATORIOS PAR SE COLOCAR NOS GRÁFICOS-->
    <script>
        // Dados fictícios de produção (em toneladas)
        const productionData = [
            { food: 'Trigo', value: Math.floor(Math.random() * 200) + 50 },
            { food: 'Milho', value: Math.floor(Math.random() * 200) + 50 },
            { food: 'Soja', value: Math.floor(Math.random() * 200) + 50 },
            { food: 'Arroz', value: Math.floor(Math.random() * 200) + 50 },
            { food: 'Cevada', value: Math.floor(Math.random() * 200) + 50 }
        ];

        // Função para gerar o gráfico
        const barChartContainer = document.getElementById('bar-chart');
        productionData.forEach(data => {
            const bar = document.createElement('div');
            bar.className = 'bar';
            bar.style.height = data.value + 'px';
            bar.textContent = `${data.food} (${data.value} t)`;
            barChartContainer.appendChild(bar);
        });



        const simulatedData = [
            Math.floor(Math.random() * 30) + 10,  // Setembro
            Math.floor(Math.random() * 30) + 10,  // Outubro
            Math.floor(Math.random() * 30) + 10   // Novembro
        ];

        // Configuração dos dados para o gráfico
        const data = {
            labels: ['Arroz', 'Cevada', 'Milho'],
            datasets: [{
                data: simulatedData, // Usa os valores simulados
                backgroundColor: ['#4A5D73', '#7A8C9A', '#2E4057'],
                borderColor: '#ffffff',
                borderWidth: 2
            }]
        };

        // Configuração do gráfico
        const config = {
            type: 'pie',
            data: data,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                label += context.raw + ' t';
                                return label;
                            }
                        }
                    }
                }
            }
        };

        // Inicialização do gráfico
        const myPieChart = new Chart(
            document.getElementById('myPieChart'),
            config
        );
    </script>

</body>
</html>
